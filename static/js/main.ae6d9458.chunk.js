(this.webpackJsonppomodorox=this.webpackJsonppomodorox||[]).push([[0],{50:function(e,t,n){},52:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(17),c=n.n(i),o=(n(50),n(11)),r=n(12),l=n(16),d=n(15),u=(n(51),n(52),n(92)),b=n(1);var j=function(){return Object(b.jsx)(u.a,{bg:"dark",variant:"dark",children:Object(b.jsx)(u.a.Brand,{href:"#home",children:"PomodoroX"})})},h=n(27),m=n.n(h),O=n(40),f=n(44),g=n(41),x=n.n(g),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={license:""},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://raw.githubusercontent.com/akrystian/pomodorox/master/LICENSE").then((function(e){return e.data.split("\n").filter((function(e,t){return 2===t})).at(0)})).catch((function(e){return console.log(e),"PomidoroX"}));case 2:return t=e.sent,e.next=5,this.setStateAsync({license:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(u.a,{bg:"light",variant:"light",children:[this.state.license,Object(b.jsx)(f.a,{variant:"link",onClick:function(){return e.props.setDebugMode(!0)},size:"sm",children:"."})]})}}]),n}(a.a.Component),v=p,S=n(13),k=n(42),y=n(88),N=n(89),E=n(96),w=n(90),C=n(95),T=n(87),R=n(43),A=n(91),M=n(7),D=n(9),I=n(94),L=function(e){var t=e.index,n=e.label,s=e.deleteHook,a=e.upHook,i=e.downHook,c=e.minusPointHook,o=e.plusPointHook,r=e.toggleDone,l=e.select,d=e.selected;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("style",{type:"text/css",children:"\n                    .card-body {\n                        padding: 0.1rem 0.1rem;\n                    }\n                "}),Object(b.jsx)(I.a,{className:"m-2",border:n.done?"success":d?"primary":"",bg:n.done?"success":d?"primary":"",children:Object(b.jsxs)(I.a.Body,{children:[Object(b.jsxs)("div",{className:"float-left",children:[Object(b.jsx)(k.a,{className:"mb-2",id:"toggle-check",type:"checkbox",variant:"light-outline",checked:n.done,value:"1",onChange:function(e){return r(t)}}),Object(b.jsx)(f.a,{variant:"secondary",size:"sm",disabled:n.done,onClick:function(e){return l(t)},children:Object(b.jsx)(M.c,{})})," ",Object(b.jsxs)(R.a,{vertical:!0,children:[Object(b.jsx)(f.a,{variant:"secondary",onClick:function(){return o(t)},size:"sm",disabled:n.done,children:Object(b.jsx)(M.g,{})}),Object(b.jsx)(f.a,{variant:"secondary",onClick:function(){return c(t)},size:"sm",disabled:n.done,children:Object(b.jsx)(M.d,{})})]})," ",Object(b.jsxs)(T.a,{pill:!0,variant:"secondary",children:[Object(b.jsx)("strong",{children:n.estimate})," / ",n.points]})," ",Object(b.jsx)("strong",{children:n.label})]}),Object(b.jsxs)("div",{className:"float-right",children:[Object(b.jsxs)(R.a,{vertical:!0,children:[Object(b.jsx)(f.a,{variant:"secondary",onClick:function(){return a(t)},size:"sm",children:Object(b.jsx)(M.b,{})}),Object(b.jsx)(f.a,{variant:"secondary",onClick:function(){return i(t)},size:"sm",children:Object(b.jsx)(M.a,{})})]})," ",Object(b.jsx)(f.a,{variant:"danger",disabled:d,onClick:function(){return s(t)},size:"sm",children:Object(b.jsx)(M.i,{})})]})]})})]})};var B=function(){return Object(b.jsx)(I.a,{className:"m-2",children:Object(b.jsx)(I.a.Body,{children:"Choose period."})})},P=n(25),H=function(e){var t=e.timerSeconds,n=e.showNotifications,a=e.reminderSeconds,i=void 0===a?300:a,c=e.debug,o=void 0!==c&&c,r=e.autoCount,l=void 0===r?function(){}:r,d="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg",u=function(){},j=function(e){var t=new Date;return t.setSeconds(t.getSeconds()+e),t},h=Object(P.useTimer)({expiryTimestamp:j(t),onExpire:function(){return E(S,"https://actions.google.com/sounds/v1/emergency/beeper_emergency_call.ogg",!1,l)}}),m=h.seconds,O=h.minutes,g=h.start,x=h.pause,p=h.restart,v=h.isRunning,S=Object(P.useTimer)({expiryTimestamp:j(i),onExpire:function(){return E(k,d,!0,u)},autoStart:!1}),k=Object(P.useTimer)({expiryTimestamp:j(i),onExpire:function(){return E(S,d,!0,u)},autoStart:!1}),E=function(e,t,s,a){e.restart(j(i)),a(),new Audio(t).play(),n(s)},w=function(e){return e>=10?e:"0"+e},C=o?Object(b.jsx)(y.a,{children:Object(b.jsxs)(N.a,{children:[Object(b.jsxs)("h1",{children:[w(S.minutes),":",w(S.seconds)]}),Object(b.jsxs)("h1",{children:[w(k.minutes),":",w(k.seconds)]})]})}):null,R=v?null:Object(b.jsx)("h1",{children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("style",{type:"text/css",children:"\n                    .blinking {\n                        animation: 2.0s linear infinite blinking;\n                    }\n                    \n                    @keyframes blinking {\n                        0% {opacity: 0;}\n                        50% {opacity: 1;}\n                        100% {opacity: 0;}\n                    }\n                    "}),Object(b.jsx)(T.a,{variant:"danger",className:"blinking",children:"Timer Stopped!"})]})});return Object(b.jsx)(s.Fragment,{children:Object(b.jsx)(I.a,{className:"m-2",children:Object(b.jsxs)(I.a.Body,{children:[Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:Object(b.jsx)("code",{children:Object(b.jsxs)("h1",{children:[w(O),":",w(m)]})})})}),Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:R})}),Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:C})}),Object(b.jsx)(y.a,{children:Object(b.jsxs)(N.a,{children:[Object(b.jsx)(f.a,{onClick:g,children:Object(b.jsx)(M.f,{})}),Object(b.jsx)(f.a,{onClick:x,children:Object(b.jsx)(M.e,{})}),Object(b.jsx)(f.a,{variant:"success",onClick:function(){x(),S.pause(),k.pause()},children:Object(b.jsx)(M.e,{})}),Object(b.jsx)(f.a,{onClick:function(){var e=new Date;e.setSeconds(e.getSeconds()+300),p(e)},children:Object(b.jsx)(M.h,{})})]})})]})})})};var _=function(e){var t=e.showNotifications,n=e.debugMode;return Object(b.jsx)(H,{timerSeconds:600,showNotifications:t,reminderSeconds:30,debug:n})};var K=function(e){var t=e.showNotifications,n=e.debugMode,s=e.autoCount;return Object(b.jsx)(H,{timerSeconds:1500,showNotifications:t,reminderSeconds:30,debug:n,autoCount:s})};var J=function(e){var t=e.showNotifications,n=e.debugMode;return Object(b.jsx)(H,{timerSeconds:300,showNotifications:t,reminderSeconds:30,debug:n})};var U=function(e){var t=e.showNotifications,n=e.debugMode,s=e.autoCount;return Object(b.jsx)(H,{timerSeconds:10,showNotifications:t,reminderSeconds:10,debug:n,autoCount:s})},z=function(e){var t,n=e.show,s=e.showNotifications,a=e.debugMode,i=e.autoCount;return(t=n)===D.LONG_BREAK?Object(b.jsx)(_,{showNotifications:s,debugMode:a}):t===D.SHORT_BREAK?Object(b.jsx)(J,{showNotifications:s,debugMode:a}):t===D.REGULAR?Object(b.jsx)(K,{showNotifications:s,debugMode:a,autoCount:i}):t===D.TEST_BREAK?Object(b.jsx)(U,{showNotifications:s,debugMode:a,autoCount:i}):Object(b.jsx)(B,{showNotifications:s})},G=n(18),F=n.n(G),V=n(93),X=function(e){var t=e.event;return Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:new Date(t.timestamp).toLocaleTimeString()}),Object(b.jsx)("td",{children:t.label?t.label.toString():"No label"}),Object(b.jsx)("td",{children:t.task.toString()}),Object(b.jsx)("td",{children:t.status?t.status.toString():"No status"})]})})},Y=function(){function e(t){Object(o.a)(this,e),this.status=t}return Object(r.a)(e,[{key:"toString",value:function(){return this.status}}]),e}();Y.STARTED=new Y("started"),Y.ENDED=new Y("ended"),Y.POINT=new Y("point");var W=Y,$=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={labels:[],mode:[],numTask:1,label:"",estimate:0,selected:null,notificationsState:{title:"Yep!",body:"Time is up!"},events:[],version:D.VERSION},e.handleEvent=function(t,n,s){e.saveEvents({timestamp:new Date,label:t,task:n,status:s})},e.saveEvents=function(t){e.setState((function(e){return{events:e.events.concat([{timestamp:t.timestamp,label:t.label.toString(),task:t.task.toString(),status:t.status.toString()}])}}))},e.clearEvents=function(){e.setState((function(){return{events:[]}}))},e.handleChange=function(t){e.setState({labels:t}),localStorage.setItem("state",JSON.stringify(e.state))},e.messageLabels={timeUp:{title:"Yep!",body:"Time is up!"},reminder:{title:"Reminder!!!",body:"You should run the timer!!!!"}},e.updateLabels=function(t,n){return e.setState({notificationsState:{title:t,body:n}})},e.handleChangeMode=function(t,n){console.log("mode: "+t+" label: "+n),e.start(n,t),e.setState({mode:t}),localStorage.setItem("state",JSON.stringify(e.state))},e.handleChangeLabel=function(t){e.setState({label:t})},e.handleChangeEstimate=function(t){e.setState((function(e){return{estimate:e.estimate+t}}))},e.genId=function(){return Object(V.a)()},e.addTask=function(t){e.createEvent(t)},e.start=function(t,n){e.handleEvent(t,n,W.STARTED)},e.end=function(t,n){e.handleEvent(t,n,W.ENDED)},e.createEvent=function(t){null!=t&&""!==t&&(e.setState((function(n){return{labels:n.labels.concat([{id:e.genId(),label:t,done:!1,points:0,estimate:n.estimate}]),label:""}})),localStorage.setItem("state",JSON.stringify(e.state)))},e.showNotifications=function(t){t?e.setupRemider():e.setupTimesUp(),F.a.n.supported()&&F.a.n.show()},e.setupRemider=function(){return e.updateLabels(e.messageLabels.reminder.title,e.messageLabels.reminder.body)},e.setupTimesUp=function(){return e.updateLabels(e.messageLabels.timeUp.title,e.messageLabels.timeUp.body)},e.handleNotificationClick=function(e){F.a.n.close(e.target.tag)},e.removeTask=function(t){if(e.state.labels.length>0&&t>=0&&e.state.labels.length>t){var n=Object(S.a)(e.state.labels);n.splice(t,1),e.setState({labels:n}),localStorage.setItem("state",JSON.stringify(e.state))}},e.moveUpTask=function(t){if(e.state.labels.length>1&&t>0&&e.state.labels.length>t){var n=Object(S.a)(e.state.labels),s=n[t];n[t]=n[t-1],n[t-1]=s,e.setState({labels:n}),localStorage.setItem("state",JSON.stringify(e.state))}},e.moveDownTask=function(t){if(e.state.labels.length>1&&t>=0&&e.state.labels.length>t+1){var n=Object(S.a)(e.state.labels),s=n[t];n[t]=n[t+1],n[t+1]=s,e.setState({labels:n}),localStorage.setItem("state",JSON.stringify(e.state))}},e.toggleDone=function(t){if(e.state.labels.length>=0&&t>=0&&e.state.labels.length>t){var n=Object(S.a)(e.state.labels);n[t].done=!n[t].done,e.setState({labels:n}),localStorage.setItem("state",JSON.stringify(e.state))}},e.estimatedSum=function(){return e.state.labels.map((function(e){return e.estimate})).reduce((function(e,t){return e+t}),0)},e.select=function(t){if(e.state.labels.length>=0&&t>=0&&e.state.labels.length>t){var n=e.state.labels[t];n.done||(e.start(n.label,e.state.mode),e.setState({selected:n.id}),localStorage.setItem("state",JSON.stringify(e.state)))}},e.plusPoints=function(t){if(e.state.labels.length>0&&t>=0&&e.state.labels.length>t){var n=Object(S.a)(e.state.labels);n[t].points=n[t].points+1,e.setState({labels:n}),localStorage.setItem("state",JSON.stringify(e.state))}},e.minusPoints=function(t){if(e.state.labels.length>0&&t>=0&&e.state.labels.length>t){var n=Object(S.a)(e.state.labels);n[t].points=n[t].points-1,e.setState({labels:n}),localStorage.setItem("state",JSON.stringify(e.state))}},e.debugElement=function(t){if(e.props.debugMode)return Object(b.jsx)(k.a,{value:D.TEST_BREAK,disabled:""===e.state.selected,children:"Test break"})},e.currentTaskId=function(){return e.state.labels.findIndex((function(t){return t.id===e.state.selected}))},e.currentTask=function(){var t=e.state.labels.filter((function(t){return t.id===e.state.selected})).map((function(e){return e.label}));return Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:Object(b.jsx)("h1",{children:Object(b.jsxs)("strong",{children:["Current: ",t]})})})})},e.handleEnterKeyPress=function(t){13===t.charCode&&e.addTask(e.state.label)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("state");if(null!=e){var t=JSON.parse(e);t.version>=D.VERSION&&this.setState(t)}}},{key:"render",value:function(){var e=this,t=0,n=this.state.labels.map((function(n){return Object(b.jsx)(L,{index:t++,label:n,deleteHook:e.removeTask,plusPointHook:e.plusPoints,minusPointHook:e.minusPoints,plusEstimateHook:e.plusEstimate,minusEstimateHook:e.minusEstimate,upHook:e.moveUpTask,downHook:e.moveDownTask,toggleDone:e.toggleDone,select:e.select,selected:n.id===e.state.selected},n.id)})),s=this.state.events.map((function(e){return Object(b.jsx)(X,{event:e})}));return Object(b.jsxs)("div",{className:"m-2",children:[this.currentTask(),Object(b.jsx)(y.a,{children:Object(b.jsxs)(N.a,{children:[Object(b.jsx)(z,{show:this.state.mode,showNotifications:function(t){return e.showNotifications(t)},debugMode:this.props.debugMode,autoCount:function(){var t=e.currentTaskId();e.plusPoints(t)}}),Object(b.jsx)(F.a,{onRef:function(e){return F.a.n=e},title:this.state.notificationsState.title,body:this.state.notificationsState.body,icon:"icon.png",timeout:"5000",onClick:function(t){return e.handleNotificationClick(t)}})]})}),Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:Object(b.jsxs)(E.a,{className:"flex-wrap",type:"radio",name:"options",value:this.state.mode,onChange:function(t){return e.handleChangeMode(t,e.state.label)},children:[Object(b.jsx)(k.a,{value:D.REGULAR,disabled:""===this.state.selected||null===this.state.selected,children:"Regular"}),Object(b.jsx)(k.a,{value:D.SHORT_BREAK,disabled:""===this.state.selected,children:"Short break"}),Object(b.jsx)(k.a,{value:D.LONG_BREAK,disabled:""===this.state.selected,children:"Long break"}),this.debugElement(this.props.debugMode)]})})}),Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:n})}),Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:Object(b.jsxs)(w.a,{className:"mb-3",children:[Object(b.jsx)(C.a,{value:this.state.label,"aria-label":this.state.label,"aria-describedby":"basic-addon2",onChange:function(t){return e.handleChangeLabel(t.target.value)},onKeyPress:this.handleEnterKeyPress})," ",Object(b.jsx)(T.a,{pill:!0,variant:"secondary",children:this.state.estimate})," ",Object(b.jsxs)(R.a,{vertical:!0,children:[Object(b.jsx)(f.a,{variant:"secondary",onClick:function(){return e.handleChangeEstimate(1)},size:"sm",children:Object(b.jsx)(M.g,{})}),Object(b.jsx)(f.a,{variant:"secondary",onClick:function(){return e.handleChangeEstimate(-1)},size:"sm",children:Object(b.jsx)(M.d,{})})]})," ",Object(b.jsx)(w.a.Append,{children:Object(b.jsx)(f.a,{onClick:function(){return e.addTask(e.state.label,e.state.estimate)},children:"+"})})]})})}),Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:Object(b.jsxs)("em",{children:["Estimated points sum: ",this.estimatedSum()," (Aprox hours: ",this.estimatedSum()/2,")"]})})}),Object(b.jsx)(y.a,{children:Object(b.jsx)(N.a,{children:Object(b.jsx)(f.a,{onClick:function(){e.clearEvents()},children:"Clear events"})})}),Object(b.jsxs)(A.a,{size:"sm",children:[Object(b.jsx)("thead",{className:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Timestamp"}),Object(b.jsx)("th",{children:"Label"}),Object(b.jsx)("th",{children:"Task"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{children:s})]})]})}}]),n}(a.a.Component),q=$,Q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={debugMode:!1},e.setDebugMode=function(t){e.setState({debugMode:t})},e}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(j,{name:"PomodoroX"}),Object(b.jsx)(q,{debugMode:this.state.debugMode}),Object(b.jsx)(v,{setDebugMode:this.setDebugMode})]})}}]),n}(a.a.Component),Z=Q;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(Z,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t){e.exports={REGULAR:"REGULAR",SHORT_BREAK:"SHORT_BREAK",LONG_BREAK:"LONG_BREAK",TEST_BREAK:"TEST_BREAK",NONE:"NONE",VERSION:4}}},[[84,1,2]]]);
//# sourceMappingURL=main.ae6d9458.chunk.js.map